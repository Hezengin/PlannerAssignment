using PlannerAssignment.Mvvm.Models;
using PlannerAssignment.Utils;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace UnitTestProject.JsonUtilTests
{
    public class JsonUtilHappyTests
    {
        [Fact]
        public void TestParseArrivingTrainListJson_HappyPath()
        {
            string jsonString = "{\"payload\":{\"source\":\"PPV\",\"arrivals\":[{\"origin\":\"Rotterdam Centraal\",\"name\":\"NS  1179\",\"plannedDateTime\":\"2024-01-12T21:37:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T21:40:28+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"3\",\"actualTrack\":\"3\",\"product\":{\"number\":\"1179\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"ON_STATION\"},{\"origin\":\"Zwolle\",\"name\":\"NS  3675\",\"plannedDateTime\":\"2024-01-12T21:40:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T21:40:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"8\",\"actualTrack\":\"8\",\"product\":{\"number\":\"3675\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"ON_STATION\"},{\"origin\":\"Amsterdam Centraal\",\"name\":\"NS   968\",\"plannedDateTime\":\"2024-01-12T21:45:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T21:45:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"4\",\"actualTrack\":\"5\",\"product\":{\"number\":\"968\",\"categoryCode\":\"ICD\",\"shortCategoryName\":\"NS Intercity direct\",\"longCategoryName\":\"Intercity direct\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"ICD\",\"cancelled\":false,\"messages\":[{\"message\":\"Dit is een gewijzigd aankomstspoor\",\"style\":\"INFO\"}],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Roosendaal\",\"name\":\"NS  3680\",\"plannedDateTime\":\"2024-01-12T21:45:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T21:45:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"3\",\"actualTrack\":\"3\",\"product\":{\"number\":\"3680\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Dordrecht\",\"name\":\"NS  6678\",\"plannedDateTime\":\"2024-01-12T21:51:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T21:51:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"5\",\"actualTrack\":\"5\",\"product\":{\"number\":\"6678\",\"categoryCode\":\"SPR\",\"shortCategoryName\":\"NS Sprinter\",\"longCategoryName\":\"Sprinter\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"SPR\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Eindhoven Centraal\",\"name\":\"NS  1176\",\"plannedDateTime\":\"2024-01-12T21:51:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T21:51:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"7\",\"actualTrack\":\"7\",\"product\":{\"number\":\"1176\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Nijmegen\",\"name\":\"NS  6677\",\"plannedDateTime\":\"2024-01-12T22:07:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:07:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"7\",\"actualTrack\":\"7\",\"product\":{\"number\":\"6677\",\"categoryCode\":\"SPR\",\"shortCategoryName\":\"NS Sprinter\",\"longCategoryName\":\"Sprinter\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"SPR\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Rotterdam Centraal\",\"name\":\"NS  1181\",\"plannedDateTime\":\"2024-01-12T22:07:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:07:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"3\",\"actualTrack\":\"3\",\"product\":{\"number\":\"1181\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Zwolle\",\"name\":\"NS  3677\",\"plannedDateTime\":\"2024-01-12T22:10:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:10:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"8\",\"actualTrack\":\"8\",\"product\":{\"number\":\"3677\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Amsterdam Centraal\",\"name\":\"NS   970\",\"plannedDateTime\":\"2024-01-12T22:15:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:15:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"4\",\"actualTrack\":\"5\",\"product\":{\"number\":\"970\",\"categoryCode\":\"ICD\",\"shortCategoryName\":\"NS Intercity direct\",\"longCategoryName\":\"Intercity direct\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"ICD\",\"cancelled\":false,\"messages\":[{\"message\":\"Dit is een gewijzigd aankomstspoor\",\"style\":\"INFO\"}],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Roosendaal\",\"name\":\"NS  3682\",\"plannedDateTime\":\"2024-01-12T22:15:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:15:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"3\",\"actualTrack\":\"3\",\"product\":{\"number\":\"3682\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Brussel-Zuid Midi\",\"name\":\"NS Int  9271\",\"plannedDateTime\":\"2024-01-12T22:18:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:18:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"5\",\"actualTrack\":\"7\",\"product\":{\"number\":\"9271\",\"categoryCode\":\"ICD\",\"shortCategoryName\":\"NS Int Intercity direct\",\"longCategoryName\":\"Intercity direct\",\"operatorCode\":\"NS Int\",\"operatorName\":\"NS Int\",\"type\":\"TRAIN\"},\"trainCategory\":\"ICD\",\"cancelled\":false,\"messages\":[{\"message\":\"Dit is een gewijzigd aankomstspoor\",\"style\":\"INFO\"}],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Dordrecht\",\"name\":\"NS  6680\",\"plannedDateTime\":\"2024-01-12T22:21:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:21:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"6\",\"actualTrack\":\"5\",\"product\":{\"number\":\"6680\",\"categoryCode\":\"SPR\",\"shortCategoryName\":\"NS Sprinter\",\"longCategoryName\":\"Sprinter\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"SPR\",\"cancelled\":false,\"messages\":[{\"message\":\"Dit is een gewijzigd aankomstspoor\",\"style\":\"INFO\"}],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Eindhoven Centraal\",\"name\":\"NS  1178\",\"plannedDateTime\":\"2024-01-12T22:21:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:21:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"7\",\"actualTrack\":\"6\",\"product\":{\"number\":\"1178\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"messages\":[{\"message\":\"Dit is een gewijzigd aankomstspoor\",\"style\":\"INFO\"}],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Amsterdam Centraal\",\"name\":\"NS Int  9272\",\"plannedDateTime\":\"2024-01-12T22:34:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:34:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"7\",\"actualTrack\":\"7\",\"product\":{\"number\":\"9272\",\"categoryCode\":\"ICD\",\"shortCategoryName\":\"NS Int Intercity direct\",\"longCategoryName\":\"Intercity direct\",\"operatorCode\":\"NS Int\",\"operatorName\":\"NS Int\",\"type\":\"TRAIN\"},\"trainCategory\":\"ICD\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Nijmegen\",\"name\":\"NS  6679\",\"plannedDateTime\":\"2024-01-12T22:37:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:37:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"6\",\"actualTrack\":\"6\",\"product\":{\"number\":\"6679\",\"categoryCode\":\"SPR\",\"shortCategoryName\":\"NS Sprinter\",\"longCategoryName\":\"Sprinter\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"SPR\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Rotterdam Centraal\",\"name\":\"NS  1183\",\"plannedDateTime\":\"2024-01-12T22:37:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:37:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"3\",\"actualTrack\":\"3\",\"product\":{\"number\":\"1183\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Zwolle\",\"name\":\"NS  3679\",\"plannedDateTime\":\"2024-01-12T22:40:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:40:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"8\",\"actualTrack\":\"8\",\"product\":{\"number\":\"3679\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Amsterdam Centraal\",\"name\":\"NS   972\",\"plannedDateTime\":\"2024-01-12T22:45:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:45:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"4\",\"actualTrack\":\"6\",\"product\":{\"number\":\"972\",\"categoryCode\":\"ICD\",\"shortCategoryName\":\"NS Intercity direct\",\"longCategoryName\":\"Intercity direct\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"ICD\",\"cancelled\":false,\"messages\":[{\"message\":\"Dit is een gewijzigd aankomstspoor\",\"style\":\"INFO\"}],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Roosendaal\",\"name\":\"NS  3684\",\"plannedDateTime\":\"2024-01-12T22:45:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:45:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"3\",\"actualTrack\":\"3\",\"product\":{\"number\":\"3684\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Eindhoven Centraal\",\"name\":\"NS  1180\",\"plannedDateTime\":\"2024-01-12T22:51:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:51:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"7\",\"actualTrack\":\"7\",\"product\":{\"number\":\"1180\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Nijmegen\",\"name\":\"NS  6681\",\"plannedDateTime\":\"2024-01-12T23:07:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T23:07:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"7\",\"actualTrack\":\"7\",\"product\":{\"number\":\"6681\",\"categoryCode\":\"SPR\",\"shortCategoryName\":\"NS Sprinter\",\"longCategoryName\":\"Sprinter\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"SPR\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"},{\"origin\":\"Rotterdam Centraal\",\"name\":\"NS  1185\",\"plannedDateTime\":\"2024-01-12T23:07:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T23:07:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"3\",\"actualTrack\":\"3\",\"product\":{\"number\":\"1185\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"messages\":[],\"arrivalStatus\":\"INCOMING\"}]},\"links\":{\"disruptions\":{\"uri\":\"/api/v2/disruptions?station=BD\"}},\"meta\":{\"numberOfDisruptions\":2}}\r\n"; 
            ArrivalTrainModel arrivalTrainModel = JsonUtil.ParseArrivingTrainListJson(jsonString);
            Assert.NotNull(arrivalTrainModel);
            Assert.Equal(23,arrivalTrainModel.payload.arrivals.Count);
        }

        [Fact]
        public void TestParseDeparturingTrainListJson_HappyPath()
        {
            string jsonString = "{\"payload\":{\"source\":\"PPV\",\"departures\":[{\"direction\":\"Amsterdam Centraal\",\"name\":\"NS   965\",\"plannedDateTime\":\"2024-01-12T21:45:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T21:45:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"5\",\"actualTrack\":\"6\",\"product\":{\"number\":\"965\",\"categoryCode\":\"ICD\",\"shortCategoryName\":\"NS Intercity direct\",\"longCategoryName\":\"Intercity direct\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"ICD\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400530\",\"mediumName\":\"Rotterdam C.\"},{\"uicCode\":\"8400561\",\"mediumName\":\"Schiphol Airport\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Roosendaal\",\"name\":\"NS  3675\",\"plannedDateTime\":\"2024-01-12T21:45:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T21:45:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"8\",\"actualTrack\":\"8\",\"product\":{\"number\":\"3675\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400218\",\"mediumName\":\"Etten-Leur\"}],\"messages\":[],\"departureStatus\":\"ON_STATION\"},{\"direction\":\"Zwolle\",\"name\":\"NS  3680\",\"plannedDateTime\":\"2024-01-12T21:50:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T21:50:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"3\",\"actualTrack\":\"3\",\"product\":{\"number\":\"3680\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400597\",\"mediumName\":\"Tilburg\"},{\"uicCode\":\"8400319\",\"mediumName\":\"'s-Hertogenbosch\"},{\"uicCode\":\"8400495\",\"mediumName\":\"Oss\"},{\"uicCode\":\"8400470\",\"mediumName\":\"Nijmegen\"}],\"messages\":[],\"departureStatus\":\"UNKNOWN\"},{\"direction\":\"Rotterdam Centraal\",\"name\":\"NS  1176\",\"plannedDateTime\":\"2024-01-12T21:53:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T21:53:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"7\",\"actualTrack\":\"7\",\"product\":{\"number\":\"1176\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"routeStations\":[],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"'s-Hertogenbosch\",\"name\":\"NS  6678\",\"plannedDateTime\":\"2024-01-12T21:53:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T21:53:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"5\",\"actualTrack\":\"5\",\"product\":{\"number\":\"6678\",\"categoryCode\":\"SPR\",\"shortCategoryName\":\"NS Sprinter\",\"longCategoryName\":\"Sprinter\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"SPR\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400251\",\"mediumName\":\"Gilze-Rijen\"},{\"uicCode\":\"8400598\",\"mediumName\":\"Reeshof\"},{\"uicCode\":\"8400594\",\"mediumName\":\"Tilburg Uni.\"},{\"uicCode\":\"8400597\",\"mediumName\":\"Tilburg\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Eindhoven Centraal\",\"name\":\"NS  1181\",\"plannedDateTime\":\"2024-01-12T22:08:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:08:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"3\",\"actualTrack\":\"3\",\"product\":{\"number\":\"1181\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400597\",\"mediumName\":\"Tilburg\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Dordrecht\",\"name\":\"NS  6677\",\"plannedDateTime\":\"2024-01-12T22:09:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:09:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"7\",\"actualTrack\":\"7\",\"product\":{\"number\":\"6677\",\"categoryCode\":\"SPR\",\"shortCategoryName\":\"NS Sprinter\",\"longCategoryName\":\"Sprinter\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"SPR\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400132\",\"mediumName\":\"Prinsenbeek\"},{\"uicCode\":\"8400382\",\"mediumName\":\"Lage Zwaluwe\"},{\"uicCode\":\"8400181\",\"mediumName\":\"Dordrecht Zuid\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Amsterdam Centraal\",\"name\":\"NS   967\",\"plannedDateTime\":\"2024-01-12T22:15:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:15:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"6\",\"actualTrack\":\"6\",\"product\":{\"number\":\"967\",\"categoryCode\":\"ICD\",\"shortCategoryName\":\"NS Intercity direct\",\"longCategoryName\":\"Intercity direct\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"ICD\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400530\",\"mediumName\":\"Rotterdam C.\"},{\"uicCode\":\"8400561\",\"mediumName\":\"Schiphol Airport\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Roosendaal\",\"name\":\"NS  3677\",\"plannedDateTime\":\"2024-01-12T22:15:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:15:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"8\",\"actualTrack\":\"8\",\"product\":{\"number\":\"3677\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400218\",\"mediumName\":\"Etten-Leur\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Zwolle\",\"name\":\"NS  3682\",\"plannedDateTime\":\"2024-01-12T22:20:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:20:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"3\",\"actualTrack\":\"3\",\"product\":{\"number\":\"3682\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400597\",\"mediumName\":\"Tilburg\"},{\"uicCode\":\"8400319\",\"mediumName\":\"'s-Hertogenbosch\"},{\"uicCode\":\"8400495\",\"mediumName\":\"Oss\"},{\"uicCode\":\"8400470\",\"mediumName\":\"Nijmegen\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Nijmegen\",\"name\":\"NS  6680\",\"plannedDateTime\":\"2024-01-12T22:23:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:23:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"6\",\"actualTrack\":\"5\",\"product\":{\"number\":\"6680\",\"categoryCode\":\"SPR\",\"shortCategoryName\":\"NS Sprinter\",\"longCategoryName\":\"Sprinter\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"SPR\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400251\",\"mediumName\":\"Gilze-Rijen\"},{\"uicCode\":\"8400597\",\"mediumName\":\"Tilburg\"},{\"uicCode\":\"8400319\",\"mediumName\":\"'s-Hertogenbosch\"},{\"uicCode\":\"8400495\",\"mediumName\":\"Oss\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Rotterdam Centraal\",\"name\":\"NS  1178\",\"plannedDateTime\":\"2024-01-12T22:23:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:23:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"7\",\"actualTrack\":\"6\",\"product\":{\"number\":\"1178\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"routeStations\":[],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Amsterdam Centraal\",\"name\":\"NS Int  9271\",\"plannedDateTime\":\"2024-01-12T22:26:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:26:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"5\",\"actualTrack\":\"7\",\"product\":{\"number\":\"9271\",\"categoryCode\":\"ICD\",\"shortCategoryName\":\"NS Int Intercity direct\",\"longCategoryName\":\"Intercity direct\",\"operatorCode\":\"NS Int\",\"operatorName\":\"NS Int\",\"type\":\"TRAIN\"},\"trainCategory\":\"ICD\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400530\",\"mediumName\":\"Rotterdam C.\"},{\"uicCode\":\"8400561\",\"mediumName\":\"Schiphol Airport\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Eindhoven Centraal\",\"name\":\"NS  1183\",\"plannedDateTime\":\"2024-01-12T22:38:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:38:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"3\",\"actualTrack\":\"3\",\"product\":{\"number\":\"1183\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400597\",\"mediumName\":\"Tilburg\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Dordrecht\",\"name\":\"NS  6679\",\"plannedDateTime\":\"2024-01-12T22:39:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:39:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"6\",\"actualTrack\":\"6\",\"product\":{\"number\":\"6679\",\"categoryCode\":\"SPR\",\"shortCategoryName\":\"NS Sprinter\",\"longCategoryName\":\"Sprinter\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"SPR\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400132\",\"mediumName\":\"Prinsenbeek\"},{\"uicCode\":\"8400382\",\"mediumName\":\"Lage Zwaluwe\"},{\"uicCode\":\"8400181\",\"mediumName\":\"Dordrecht Zuid\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Brussel-Zuid Midi\",\"name\":\"NS Int  9272\",\"plannedDateTime\":\"2024-01-12T22:42:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:42:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"7\",\"actualTrack\":\"7\",\"product\":{\"number\":\"9272\",\"categoryCode\":\"ICD\",\"shortCategoryName\":\"NS Int Intercity direct\",\"longCategoryName\":\"Intercity direct\",\"operatorCode\":\"NS Int\",\"operatorName\":\"NS Int\",\"type\":\"TRAIN\"},\"trainCategory\":\"ICD\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8821105\",\"mediumName\":\"Noorderkempen\"},{\"uicCode\":\"8821006\",\"mediumName\":\"Antwerpen-C.\"},{\"uicCode\":\"8821121\",\"mediumName\":\"Antw-Berchem\"},{\"uicCode\":\"8822004\",\"mediumName\":\"Mechelen\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Amsterdam Centraal\",\"name\":\"NS   969\",\"plannedDateTime\":\"2024-01-12T22:45:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:45:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"5\",\"actualTrack\":\"5\",\"product\":{\"number\":\"969\",\"categoryCode\":\"ICD\",\"shortCategoryName\":\"NS Intercity direct\",\"longCategoryName\":\"Intercity direct\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"ICD\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400530\",\"mediumName\":\"Rotterdam C.\"},{\"uicCode\":\"8400561\",\"mediumName\":\"Schiphol Airport\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Roosendaal\",\"name\":\"NS  3679\",\"plannedDateTime\":\"2024-01-12T22:45:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:45:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"8\",\"actualTrack\":\"8\",\"product\":{\"number\":\"3679\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400218\",\"mediumName\":\"Etten-Leur\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Zutphen\",\"name\":\"NS  3684\",\"plannedDateTime\":\"2024-01-12T22:50:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:50:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"3\",\"actualTrack\":\"3\",\"product\":{\"number\":\"3684\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400597\",\"mediumName\":\"Tilburg\"},{\"uicCode\":\"8400319\",\"mediumName\":\"'s-Hertogenbosch\"},{\"uicCode\":\"8400495\",\"mediumName\":\"Oss\"},{\"uicCode\":\"8400470\",\"mediumName\":\"Nijmegen\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Rotterdam Centraal\",\"name\":\"NS  1180\",\"plannedDateTime\":\"2024-01-12T22:53:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T22:53:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"7\",\"actualTrack\":\"7\",\"product\":{\"number\":\"1180\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"routeStations\":[],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Eindhoven Centraal\",\"name\":\"NS  1185\",\"plannedDateTime\":\"2024-01-12T23:08:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T23:08:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"3\",\"actualTrack\":\"3\",\"product\":{\"number\":\"1185\",\"categoryCode\":\"IC\",\"shortCategoryName\":\"NS Intercity\",\"longCategoryName\":\"Intercity\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"IC\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400597\",\"mediumName\":\"Tilburg\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"},{\"direction\":\"Dordrecht\",\"name\":\"NS  6681\",\"plannedDateTime\":\"2024-01-12T23:09:00+0100\",\"plannedTimeZoneOffset\":60,\"actualDateTime\":\"2024-01-12T23:09:00+0100\",\"actualTimeZoneOffset\":60,\"plannedTrack\":\"7\",\"actualTrack\":\"7\",\"product\":{\"number\":\"6681\",\"categoryCode\":\"SPR\",\"shortCategoryName\":\"NS Sprinter\",\"longCategoryName\":\"Sprinter\",\"operatorCode\":\"NS\",\"operatorName\":\"NS\",\"type\":\"TRAIN\"},\"trainCategory\":\"SPR\",\"cancelled\":false,\"routeStations\":[{\"uicCode\":\"8400132\",\"mediumName\":\"Prinsenbeek\"},{\"uicCode\":\"8400382\",\"mediumName\":\"Lage Zwaluwe\"},{\"uicCode\":\"8400181\",\"mediumName\":\"Dordrecht Zuid\"}],\"messages\":[],\"departureStatus\":\"INCOMING\"}]},\"links\":{\"disruptions\":{\"uri\":\"/api/v2/disruptions?station=BD\"}},\"meta\":{\"numberOfDisruptions\":2}}\r\n";
            DepartureTrainModel departureTrainModel = JsonUtil.ParseDeparturingTrainListJson(jsonString);
            Assert.NotNull(departureTrainModel);
            Assert.Equal(22,departureTrainModel.payload.departures.Count);
        }

        [Fact]
        public void TestParseStationList_HappyPath()
        {
            string jsonString = "{ \"payload\": [{ \"UICCode\":\"8400131\", \"stationType\":\"KNOOPPUNT_INTERCITY_STATION\", \"EVACode\":\"8400131\", \"code\":\"BD\", \"cdCode\":131, \"sporen\":[{ \"spoorNummer\":\"2\" }, { \"spoorNummer\":\"3\" }], \"synoniemen\":[], \"heeftFaciliteiten\":true, \"heeftVertrektijden\":true, \"heeftReisassistentie\":true, \"namen\":{ \"lang\":\"Breda\", \"middel\":\"Breda\", \"kort\":\"Breda\" }, \"land\":\"NL\", \"lat\":51.5955543518066, \"lng\":4.78000020980835, \"radius\":525, \"naderenRadius\":1200, \"ingangsDatum\":\"2018-04-09\", \"nearbyMeLocationId\":{ \"value\":\"BD\", \"type\":\"stationV2\" } }] }";
            StationModel stationModel = JsonUtil.ParseStationList(jsonString);
            Assert.NotNull(stationModel);
            Assert.Equal(1, stationModel.Stations.Count);
        }

        [Fact]
        public void TestParseStation_HappyPath()
        {
            string jsonString = "{ \"payload\": [{ \"UICCode\":\"8400131\", \"stationType\":\"KNOOPPUNT_INTERCITY_STATION\", \"EVACode\":\"8400131\", \"code\":\"BD\", \"cdCode\":131, \"sporen\":[{ \"spoorNummer\":\"2\" }, { \"spoorNummer\":\"3\" }], \"synoniemen\":[], \"heeftFaciliteiten\":true, \"heeftVertrektijden\":true, \"heeftReisassistentie\":true, \"namen\":{ \"lang\":\"Breda\", \"middel\":\"Breda\", \"kort\":\"Breda\" }, \"land\":\"NL\", \"lat\":51.5955543518066, \"lng\":4.78000020980835, \"radius\":525, \"naderenRadius\":1200, \"ingangsDatum\":\"2018-04-09\", \"nearbyMeLocationId\":{ \"value\":\"BD\", \"type\":\"stationV2\" } }] }";
            Station station = JsonUtil.ParseStation(jsonString);
            Assert.NotNull(station);
            Assert.Equal("8400131", station.UICCode);
        }
    }
}
